# 1.Assimp

目前为止，我们已经可以绘制一个物体，并添加不同的光照效果了。但是我们的顶点数据太过简单，只能绘制简单的立方体。但是房子汽车这种不规则的形状我们的顶点数据就很难定制了。索性，这部分并不需要我们苦逼的开发人员去考虑。成熟的3D建模工具可以将设计师设计的模型导出模型文件，借助模型加载库就可以将他们转化为顶点数据。

### 模型加载库

> 一个非常流行的模型导入库是Assimp，它是Open Asset Import Library（开放的资产导入库）的缩写。Assimp能够导入很多种不同的模型文件格式（并也能够导出部分的格式），它会将所有的模型数据加载至Assimp的通用数据结构中。当Assimp加载完模型之后，我们就能够从Assimp的数据结构中提取我们所需的所有数据了。由于Assimp的数据结构保持不变，不论导入的是什么种类的文件格式，它都能够将我们从这些不同的文件格式中抽象出来，用同一种方式访问我们需要的数据。

当使用Assimp导入一个模型的时候，它通常会将整个模型加载进一个场景(Scene)对象，它会包含导入的模型/场景中的所有数据。Assimp会将场景载入为一系列的节点(Node)，每个节点包含了场景对象中所储存数据的索引，每个节点都可以有任意数量的子节点。Assimp数据结构的（简化）模型如下：

![场景](https://learnopengl-cn.github.io/img/03/01/assimp_structure.png)

这个结构图是一个模型在assimp中的基础结构，如果看不懂也没关系，到后面我们会频繁的使用它。

### 构建Assimp

你可以在Assimp的[下载页面](http://assimp.org/main_downloads.html)中选择相应的版本。然后就是编译成我们需要的对应的版本。这里我们还是使用cmake，我就不在赘述了，在最开始配置环境的章节我们已经介绍过。不过配置Assimp的时候可能会有一些坑，这里建议读者百度吧，一一介绍也没有意义。

